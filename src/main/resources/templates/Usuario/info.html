<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<link rel="stylesheet" type="text/css" href="static/css/info.css"
	th:href="@{/css/info.css}">

<head th:replace="layout/layout :: head"></head>
<body>

	<div class="d-flex">
		<div class="col-lg-3 parte01">
			<div class="card">
				<form>
					<div class="card-body usuario-color">
						<div class="col-12 usuario-img-carrito">
							<img src="static/img/carritologo.png"
								th:src="@{/img/carritologo.png}" />
						</div>
						<div class="form-group">

							<label>Datos del Cliente</label>
						</div>
						<div class="form-group d-flex">
							<div class="form-row">
								<div class="col-sm-8 d-flex">
									<label for="dni">Id usuario:</label> <input type="text"
										readonly th:value="${#authentication.getPrincipal().getId()}"
										class="form-control">

								</div>
							</div>


						</div>
						<div class="form-group d-flex">
							<div class="form-row">
								<div class="col-sm-10 d-flex">
									<label for="username">Username:</label> <input type="text"
										readonly
										th:value="${#authentication.getPrincipal().getUsername()}"
										class="form-control">

								</div>
							</div>


						</div>
						<div class="form-group d-flex">
							<div class="form-row">
								<div class="col-sm-14 d-flex">
									<label for="nombres">Nombre:</label> <input type="text"
										readonly
										th:value="${#authentication.getPrincipal().getNombres()}"
										class="form-control">

								</div>
							</div>


						</div>



						<div class="form-group"></div>


						<div class="form-row">
							<div class="form-group">
								<a
									th:href="@{'/usuario/' + ${#authentication.getPrincipal().getId()} + '/nuevocarrito/'}"
									class="btn btn-outline-dark"> <i
									class="fas fa-cart-arrow-down"></i> Agregar Carrito
								</a>
							</div>
						</div>


					</div>
				</form>
			</div>
		</div>

		<div class="col-sm-9">
			<div class="card parte02">
				<div class="card-body">
					<div class="d-flex ml-auto col-sm-6">

						<label class="text-right mt-2 col-sm-6">Tipo</label> <input
							readonly type="text" name="numeroserie"
							class="form-control text-center" value="Carrito">

					</div>

					<table class="table">
						<thead class="table-dark">
							<tr class="text-center">
								<th scope="col">Fecha Registro</th>
								<th scope="col">Fecha Envio</th>

								<th scope="col">Categoria</th>
								<th scope="col">Producto</th>
								<th scope="col">Modelo</th>
								<th scope="col">Precio</th>
								<th scope="col">Cantidad</th>
								<th scope="col">Tipo Pago</th>
								<th scope="col">Eliminar</th>
							</tr>
						</thead>
						<tbody th:each="carrito: ${usuario.listacarrito}">

							<tr class="text-center tabla-color-body">
								<td th:text="${carrito.fechaYHora}">Mark</td>
								<td th:text="${carrito.fecha_envio}">Mark</td>
								<td th:text="${carrito.producto.modelo.categoria.nombre}">Otto</td>
								<td th:text="${carrito.producto.nombre}">Otto</td>
								<td th:text="${carrito.producto.modelo.nombre}">Otto</td>
								<td th:text="${carrito.producto.precio}">Otto</td>
								<td th:text="${carrito.cantidad}">Otto</td>
								<td th:text="${carrito.tipoPago.nombre}">Otto</td>
								<td><a th:href="@{ '/carrito/del/' + ${carrito.id} }"
									class="btn btn-danger"> <i class="fas fa-trash-alt"></i>
								</a></td>
							</tr>

						</tbody>
					</table>
				</div>
				<div class="card-footer">
					<div class="row">
						<div class="col-sm-6">

							<a th:href="@{/}" class="btn btn-outline-danger"> <i
								class="fas fa-undo"></i> Regresar
							</a> 
							<a th:href="@{ '/usuario/detalle/' + ${#authentication.getPrincipal().getId()} }"
								class="btn btn-outline-secondary"> <i class="fas fa-file"></i> Registrar compra
							</a>
		

						</div>





						<div class="col-sm-6 ml-auto d-flex">
							<label class=" col-sm-6 text-right mt-2">Total a Pagar </label>
							<h1 th:text="${'S/.'+total}"
								class="form-control text-center font-weight-bold"
								style="font-size: 20px;"></h1>
						</div>
					</div>
				</div>
			</div>

		</div>
	</div>


</body>
</html>